@model Share.Branch;
@{
  var canHavePassword = Current.Game.Purpose == Account.GamePurpose.Game;
  var hasPassword = Model.HasPassword;
  var tooltip = hasPassword ? "change password" : "set password";
  var icon = hasPassword ? "iconoir-password-check" : "iconoir-password-xmark";
  var color = hasPassword ? "text-primary" : "";
}

<fx-modal-container>
  <button
    if="@canHavePassword"
    title="@tooltip"
    hx-get
    hx-page="/Game/Share"
    hx-page-handler="BranchPasswordDialog"
    hx-page-org="@Current.Organization.Slug"
    hx-page-game="@Current.Game.Slug"
    hx-page-slug="@Model.Slug"
    hx-target="closest fx-modal-container"
    hx-swap="beforeend">
    <i class="@icon @color text-24"></i>
  </button>
</fx-modal-container>
